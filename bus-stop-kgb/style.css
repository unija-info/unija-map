body, html { margin: 0; padding: 0; height: 100%; font-family: sans-serif; }
.app-container { display: flex; height: 100vh; width: 100%; overflow: hidden; }

/* Sidebar */
.sidebar { width: 320px; background: #fff; border-right: 1px solid #ddd; display: flex; flex-direction: column; z-index: 1001; }
.sidebar-header { padding: 15px; background: #f8f9fa; border-bottom: 1px solid #ddd; }
#search-bar { width: 100%; padding: 10px; border-radius: 20px; border: 1px solid #ddd; box-sizing: border-box; outline: none; margin-bottom: 10px; }
.btn-reset { width: 100%; padding: 10px; background: #6c757d; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
.company-list { flex-grow: 1; overflow-y: auto; padding: 10px; }
.company-btn { width: 100%; padding: 12px; margin-bottom: 8px; background: #fff; border: 1px solid #eee; text-align: left; cursor: pointer; transition: 0.2s; border-left: 4px solid transparent; }
.company-btn.active { background: #007bff !important; color: white !important; border-left: 4px solid #004085 !important; font-weight: bold; }

/* Map */
#map { flex-grow: 1; height: 100%; background: #ebe7de; }

/* Labels */
.leaflet-tooltip-own { 
    background: white; border: 2px solid #007bff; border-radius: 4px; 
    color: #333; font-weight: bold; padding: 3px 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.3); 
    font-size: 11px; pointer-events: none; 
}

.popup-link { display: block; margin-top: 10px; padding: 8px; background: #28a745; color: white; text-decoration: none; text-align: center; border-radius: 4px; font-weight: bold; }

/* FLOATING ANIMATION */
@keyframes bounceDropFloating {
    0% { transform: translateY(-100px); opacity: 0; }
    60% { transform: translateY(-48px); opacity: 1; } /* Drop slightly lower than target */
    80% { transform: translateY(-33px); opacity: 1; } /* Bounce up */
    100% { transform: translateY(-38px); opacity: 1; } /* Settle at -38px */
}

.marker-selected {
    animation: bounceDropFloating 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards !important;
}

/* Ground Dot Styling */
.ground-dot {
    background: white;
    border: 2px solid #007bff;
    border-radius: 50%;
    width: 8px !important;
    height: 8px !important;
    margin-left: -4px !important;
    margin-top: -4px !important;
}

/* Mobile */
.mobile-toggle { display: none; position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); z-index: 2000; padding: 12px 24px; background: #333; color: white; border: none; border-radius: 30px; }
@media (max-width: 768px) {
    .sidebar { width: 100%; height: 100%; position: absolute; }
    .sidebar.hidden { display: none; }
    .mobile-toggle { display: block; }
}